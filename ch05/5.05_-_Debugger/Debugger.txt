((n & (n-1)) == 0) checks if n is a power of 2 (or if n is 0)
